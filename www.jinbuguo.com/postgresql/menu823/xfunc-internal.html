<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Language" content="zh-CN"><link href="stylesheet.css" media="all" rel="stylesheet" type="text/css">
<title>内部函数</title>
<script>var _hmt=_hmt||[]; (function(){ var hm=document.createElement("script"); hm.src="//hm.baidu.com/hm.js?d286c55b63a3c54a1e43d10d4c203e75"; var s=document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm,s); })();</script>
</head><body class="SECT1">
<div>
<table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><th colspan="5" align="center" valign="bottom">PostgreSQL 8.2.3 中文文档</th></tr>
<tr><td width="10%" align="left" valign="top"><a href="xfunc-pl.html" accesskey="P">后退</a></td><td width="10%" align="left" valign="top"><a href="extend.html">快退</a></td><td width="60%" align="center" valign="bottom">章33. 扩展 SQL</td><td width="10%" align="right" valign="top"><a href="extend.html">快进</a></td><td width="10%" align="right" valign="top"><a href="xfunc-c.html" accesskey="N">前进</a></td></tr>
</table>
<hr align="LEFT" width="100%"></div>
<div class="SECT1"><h1 class="SECT1"><a name="XFUNC-INTERNAL">33.8. 内部函数</a></h1><a name="AEN36564"></a>
<p>内部函数都是用 C 写的函数，它们已经通过静态链接的方式嵌入 PostgreSQL 服务器进程中了。函数定义的"函数体"确定了函数的 C 语言名称，它不必与给 SQL 使用的名称相同。出于向下兼容考虑，一个空的函数体也可以被接受，这意味着 C 函数名与 SQL 函数名相同。</p>
<p>通常，所有在服务器里出现的内部函数都在数据库初始化时(<tt class="COMMAND">initdb</tt>)定义。但是用户可以用 <tt class="COMMAND">CREATE FUNCTION</tt> 为内部函数创建额外的别名。内部函数在 <tt class="COMMAND">CREATE FUNCTION</tt> 命令里是带着 <tt class="LITERAL">internal</tt> 语言名声明的。比如，要给 <code class="FUNCTION">sqrt</code> 函数创建一个别名：</p>
<pre class="PROGRAMLISTING">CREATE FUNCTION square_root(double precision) RETURNS double precision
    AS 'dsqrt'
    LANGUAGE internal
    STRICT;</pre>
<p>大多数内部函数都应该声明为"strict"。</p>
<div class="NOTE">
<blockquote class="NOTE">
<p><b>【注意】</b>并非所有"预定义"的函数都像上面那样是"内部的"。有些预定义的函数是用 SQL 写的。</p>
</blockquote>
</div>
</div>
<div>
<hr align="LEFT" width="100%">
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td width="33%" align="left" valign="top"><a href="xfunc-pl.html" accesskey="P">后退</a></td><td width="34%" align="center" valign="top"><a href="index.html" accesskey="H">首页</a></td><td width="33%" align="right" valign="top"><a href="xfunc-c.html" accesskey="N">前进</a></td></tr>
<tr><td width="33%" align="left" valign="top">过程语言函数</td><td width="34%" align="center" valign="top"><a href="extend.html" accesskey="U">上一级</a></td><td width="33%" align="right" valign="top">C 语言函数</td></tr>
</table>
</div>
</body></html>